<div class="mx-auto py-12 prose">
  <h1>New Image directive (NgOptimizedImage)</h1>
  <p>
    The NgOptimizedImage directive makes it easy to adopt performance best
    practices for loading images.
  </p>
  <p>
    The directive ensures that the loading of the Largest Contentful Paint (LCP)
    image is prioritized by:
  </p>
  <ul>
    <li>Automatically setting the fetchpriority attribute on the image tag</li>
    <li>Lazy loading other images by default</li>
    <li>Automatically generating a preconnect link tag in the document head</li>
    <li>Automatically generating a srcset attribute</li>
    <li>Generating a preload hint if app is using SSR</li>
  </ul>
  <h3>Getting Started</h3>
  <p>Import NgOptimizedImage:</p>
  <pre><code class="language-typescript">import &#123; NgOptimizedImage &#125; from '&#64;angular/common'</code></pre>
  <h3 class="pt-2">Enable the directive</h3>
  <p>
    To activate the NgOptimizedImage directive, replace your image's src
    attribute with ngSrc.
  </p>
  <pre><code class="language-html">&lt;img ngSrc="cat.jpg" /&gt;</code></pre>
  <h2 class="pt-2">priority</h2>
  <p>
    Always mark the LCP image on your page as priority to prioritize its
    loading.
  </p>
  <p>
    In order to prevent image-related layout shifts, NgOptimizedImage requires
    that you specify a height and width for your image
  </p>
  <pre><code class="language-html">&lt;img ngSrc="cat.jpg" width="400" height="200" priority&gt;</code></pre>
  <p class="pt-2">
    Marking an image as priority applies the following optimizations:
  </p>
  <ul>
    <li>Sets fetchpriority=high</li>
    <li>Sets loading=eager</li>
    <li>Automatically generates a preload link element</li>
  </ul>
  <p>By default, if an image is not set as a priority, it is loaded lazily.</p>
  <h2>fill mode</h2>
  <p>
    In cases where you want to have an image fill a containing element, you can
    use the fill attribute. This is often useful when you want to achieve a
    "background image" behavior. It can also be helpful when you don't know the
    exact width and height of your image, but you do have a parent container
    with a known size that you'd like to fit your image into (see "object-fit"
    below).
  </p>
  <p>
    When you add the fill attribute to your image, you do not need and should
    not include a width and height, as in this example:
  </p>
  <pre><code class="language-html">&lt;img ngSrc="cat.jpg" fill&gt;</code></pre>
  <h3 class="pt-2">The image below is rendered using NgOptimizedImage</h3>
  <div class="ngimage">
    <img [ngSrc]="image" fill />
  </div>
</div>
